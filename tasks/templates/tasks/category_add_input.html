<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>カテゴリー追加</title>
    <script>
    function addCategories(event) {
        event.preventDefault();
        const data = {
            name: document.getElementById('name').value
        };
        fetch('/api/categories/add', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(data)
        })
        .then(response => response.json())
        .then(result => {
            if(result.success) {
                alert('カテゴリー追加成功: ' + result.name);
                window.location.href = '/add/input';
            } else {
                alert('追加失敗: ' + (result.error || '不明なエラー'));
            }
        });
    }
    </script>
</head>
<body>
    <h1>カテゴリー追加</h1>
    <form onsubmit="addCategories(event)">
        <label>カテゴリー名: <input type="text" id="name" required></label><br>
        <button type="submit">追加</button>
    </form>
    <a href="/add/input">タスク追加画面に戻る</a>
</body>
</html> 